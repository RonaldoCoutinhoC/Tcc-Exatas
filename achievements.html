<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="CssFiles/achievementsPage.css">
    <link rel="stylesheet" href="CssFiles/waveEffect.css">
</head>

<body>
    <div class="bodyBackgroud">
        <div class="menuHolder">
            <div class="gameTitle">CODE FISH</div>

            <div class="achievementsHolder">
                <div class="achievement" id="1">
                    <div class="achievementTitle">Conquista: </div>
                    <div class="achievementDescription">Descrição: </div>
                </div>
                <div class="achievement" id="2"></div>
                <div class="achievement" id="3"></div>
                <div class="achievement" id="4"></div>
                <div class="achievement" id="finishedTutorial"></div>
                <div class="achievement" id="6"></div>
                <div class="achievement" id="7"></div>
                <div class="achievement" id="8"></div>
                <div class="achievement" id="9"></div>
                <div class="achievement" id="10"></div>
                <div class="achievement" id="11"></div>
                <div class="achievement" id="finishedGame"></div>
                
            </div>

            <div class="buttonsHodler">
                <a class="menuButton" href="index.html">VOLTAR</a>
            </div>

        </div>
        <div class="footer">
            <div class="ocean">
                <div class="wave"></div>
                <div class="wave"></div>
            </div>
        </div>
    </div>
    <script>
        var savedGame = JSON.parse(localStorage.getItem("gameSave"));
        
        if (savedGame && savedGame.achievements) {
            console.log(JSON.stringify(savedGame.achievements));
            let keys = Object.keys(savedGame.achievements);
            keys.forEach(key=>{
                let achievement = document.getElementById(key);
                achievement.innerHTML = '<div class="achievementTitle">Conquista: <br />'+ savedGame.achievements[key].text +' </div>' + '<div class="achievementDescription"><br /> Descrição: <br />'+ savedGame.achievements[key].description + '</div>';
                if(savedGame.achievements[key].unlocked === false){
                    achievement.classList.add("achievementLocked");
                    console.log(key + " Locked!")
                }
            });
        }
    </script>
</body>

</html>